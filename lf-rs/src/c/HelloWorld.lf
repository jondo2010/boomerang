target C;
reactor HelloWorld {
    timer foo(100 msec, 1000 msec);
    state i:int(0);
    output c:int;
    input in:int;

    reaction(foo) -> c {=
        printf("Hello World.\n");
        (self->i)++;
        set(c, self->i);
    =}

    reaction(in) {=
        printf("i = %i.\n", self->i);
    =}
}
main reactor HelloWorldTest {
    a = new HelloWorld();
    b = new HelloWorld();
}